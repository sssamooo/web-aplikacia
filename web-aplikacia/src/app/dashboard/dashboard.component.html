<div class="dashboard-container">
    <header class="header">
      <h1>Student Management Dashboard</h1>
      <button (click)="logout()" class="logout-btn">Logout</button>
    </header>
  
    <div class="search-bar">
      <input
        type="text"
        [(ngModel)]="searchText"
        (ngModelChange)="onSearchChange($event)"
        placeholder="Search by name..."
        class="search-input"
      >
    </div>
  
    <button (click)="showAddForm()" class="add-btn">Add New Student</button>
  
    <div *ngIf="isAddingOrEditing" class="student-form">
      <h2>{{ editingStudent ? 'Edit Student' : 'Add New Student' }}</h2>
      <form (ngSubmit)="saveStudent()" #studentForm="ngForm">
        <div class="form-group">
          <label>First Name *</label>
          <input type="text" [(ngModel)]="currentStudent.firstName" name="firstName" required>
        </div>
  
        <div class="form-group">
          <label>Last Name *</label>
          <input type="text" [(ngModel)]="currentStudent.lastName" name="lastName" required>
        </div>
  
        <div class="form-group">
          <label>Date of Birth</label>
          <input type="date" [(ngModel)]="currentStudent.dateOfBirth" name="dateOfBirth">
        </div>
  
        <div class="form-group">
          <label>Average Grade</label>
          <input 
            type="number" 
            [(ngModel)]="currentStudent.averageGrade" 
            name="averageGrade"
            min="1"
            max="5"
            step="0.01"
          >
        </div>
  
        <div class="form-group">
          <label>Class</label>
          <select [(ngModel)]="currentStudent.class" name="class">
            <option value="">Select Class</option>
            <option *ngFor="let class of classes" [value]="class">{{class}}</option>
          </select>
        </div>
  
        <div class="form-group">
          <label>Field of Study</label>
          <select [(ngModel)]="currentStudent.fieldOfStudy" name="fieldOfStudy">
            <option value="">Select Field</option>
            <option *ngFor="let field of fields" [value]="field">{{field}}</option>
          </select>
        </div>
  
        <div class="form-group">
          <label>Gender</label>
          <select [(ngModel)]="currentStudent.gender" name="gender">
            <option value="">Select Gender</option>
            <option *ngFor="let gender of genders" [value]="gender">{{gender}}</option>
          </select>
        </div>
  
        <div class="form-group">
          <label>Info</label>
          <textarea [(ngModel)]="currentStudent.info" name="info"></textarea>
        </div>
  
        <div class="form-group">
          <label>
            <input type="checkbox" [(ngModel)]="currentStudent.disabled" name="disabled">
            Disabled
          </label>
        </div>
  
        <div class="form-actions">
          <button type="submit" [disabled]="!studentForm.form.valid">Save</button>
          <button type="button" (click)="cancelEdit()">Cancel</button>
        </div>
      </form>
    </div>
  
    <div class="students-list">
      <div *ngFor="let student of filteredStudents" class="student-card">
        <div class="student-info">
          <h3>{{student.firstName}} {{student.lastName}}</h3>
          <p *ngIf="student.dateOfBirth">Birth Date: {{student.dateOfBirth | date}}</p>
          <p *ngIf="student.averageGrade">Grade: {{student.averageGrade}}</p>
          <p *ngIf="student.class">Class: {{student.class}}</p>
          <p *ngIf="student.fieldOfStudy">Field: {{student.fieldOfStudy}}</p>
          <p *ngIf="student.gender">Gender: {{student.gender}}</p>
          <p *ngIf="student.info">Info: {{student.info}}</p>
          <p>Status: {{student.disabled ? 'Disabled' : 'Active'}}</p>
          <p *ngIf="student.lastEdit">Last Edit: {{student.lastEdit | date:'medium'}}</p>
        </div>
        <div class="student-actions">
          <button (click)="editStudent(student)">Edit</button>
          <button (click)="deleteStudent(student)" class="delete-btn">Delete</button>
        </div>
      </div>
    </div>
  </div>